import{c as $,_ as Ee,b as je,r,j as e,d as H,u as Ce}from"./index-Bt-47C-3.js";import{u as Ie}from"./useQuery-BkvPN53n.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=$("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=$("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=$("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=$("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),J=[{id:"kevin-president",title:"KEVIN 4 PRESIDENT",type:"image",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/0914e9a8-d29b-423b-a633-38b5c1bc3700/width=400",description:"Political Campaign",category:"Politics"},{id:"kevsurf-original",title:"KEVSURF",type:"image",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/f07d3377-921a-49ea-9a99-6f50e2505200/width=400",description:"Radical Surfing",category:"Sports"},{id:"james-bond-kevin",title:"AGENT 007 KEVIN",type:"image",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/56c35540-04c1-4cbf-8e20-34297ca43b00/width=400",description:"Secret Agent",category:"Movies"},{id:"kevin-jumping",title:"KEVIN JUMPS",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/7208efb8d4e98aab066f26800c1e01a8/thumbnails/thumbnail.jpg",videoUrl:"7208efb8d4e98aab066f26800c1e01a8",description:"Animated Kevin",category:"Animation"},{id:"kaleidoscope",title:"KALEIDOSCOPE",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/6040ad1a8cb0059d318c1d339e738528/thumbnails/thumbnail.jpg",videoUrl:"6040ad1a8cb0059d318c1d339e738528",description:"Trippy Effects",category:"Art"},{id:"walking-corridor",title:"WALKING DOWN CORRIDOR",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/76088736b758ae1ff2a0491606bfb751/thumbnails/thumbnail.jpg",videoUrl:"76088736b758ae1ff2a0491606bfb751",description:"Kevin walking down corridor",category:"Animation"},{id:"tv-interference",title:"TV INTERFERENCE",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/6c0d7bf82b62c624bd5394007c1fe446/thumbnails/thumbnail.jpg",videoUrl:"6c0d7bf82b62c624bd5394007c1fe446",description:"TV interference glitch",category:"Glitch Art"},{id:"glitch-animation",title:"GLITCH ANIMATION",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/21f715769ff485c16e4472bcac52e917/thumbnails/thumbnail.jpg",videoUrl:"21f715769ff485c16e4472bcac52e917",description:"Image glitch animation",category:"Glitch Art"},{id:"animated-kevin",title:"ANIMATED KEVIN",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/711ed784622153f0bba353c3c6f6fb34/thumbnails/thumbnail.jpg",videoUrl:"711ed784622153f0bba353c3c6f6fb34",description:"Kevin animation",category:"Animation"},{id:"kevin-video-1",title:"KEVIN MOMENT",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/1ad15edb6d2dd5fbf1a38ba052d3686f/thumbnails/thumbnail.jpg",videoUrl:"1ad15edb6d2dd5fbf1a38ba052d3686f",description:"Kevin video moment",category:"Entertainment"},{id:"laughing-kevin",title:"LAUGHING KEVIN",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/e84162f743e8d66a8d48e0390791d36e/thumbnails/thumbnail.jpg",videoUrl:"e84162f743e8d66a8d48e0390791d36e",description:"They are laughing",category:"Comedy"},{id:"confident-kevin",title:"CONFIDENT KEVIN",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/e699c2ab362b7f6028c4852c110124fe/thumbnails/thumbnail.jpg",videoUrl:"e699c2ab362b7f6028c4852c110124fe",description:"Feeling very confident",category:"Attitude"},{id:"smug-kevin",title:"SMUG KEVIN",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/9dcffd9a177e1b4f8d4fc0dab08f7a97/thumbnails/thumbnail.jpg",videoUrl:"9dcffd9a177e1b4f8d4fc0dab08f7a97",description:"Looking smug",category:"Attitude"},{id:"magic-spell",title:"MAGIC SPELL",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/33534063b48b3d20164d7decbd864d15/thumbnails/thumbnail.jpg",videoUrl:"33534063b48b3d20164d7decbd864d15",description:"Working magic spell while portal opens",category:"Magic"},{id:"running-kevin",title:"RUNNING KEVIN",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/ac402aaf365d76b78a392ecbe1553f7d/thumbnails/thumbnail.jpg",videoUrl:"ac402aaf365d76b78a392ecbe1553f7d",description:"Kevin running",category:"Action"},{id:"alien-abduction",title:"ALIEN ABDUCTION",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/4db2359b0246ceda88ba4057e967fb9b/thumbnails/thumbnail.jpg",videoUrl:"4db2359b0246ceda88ba4057e967fb9b",description:"Abducted by aliens",category:"Sci-Fi"},{id:"kevin-video-2",title:"KEVIN ACTION",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/361f2b0ad3acd320d765c73266de781f/thumbnails/thumbnail.jpg",videoUrl:"361f2b0ad3acd320d765c73266de781f",description:"Kevin in action",category:"Action"},{id:"glitch-kevin-2",title:"GLITCH KEVIN 2",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/5f3c1f6aed0630286ee76f64b8572ee8/thumbnails/thumbnail.jpg",videoUrl:"5f3c1f6aed0630286ee76f64b8572ee8",description:"Glitch animation",category:"Glitch Art"},{id:"eating-popcorn",title:"EATING POPCORN",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/8893e491e93bdc9d3cf027746ec57519/thumbnails/thumbnail.jpg",videoUrl:"8893e491e93bdc9d3cf027746ec57519",description:"Eating popcorn and enjoying",category:"Entertainment"},{id:"feeling-cold",title:"FEELING COLD",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/398acea0a6b4475b8bd97062cad9ac84/thumbnails/thumbnail.jpg",videoUrl:"398acea0a6b4475b8bd97062cad9ac84",description:"Feeling cold",category:"Emotion"},{id:"feeling-unbeatable",title:"FEELING UNBEATABLE",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/7fae7aaea0729ab940ce63fe7a803a31/thumbnails/thumbnail.jpg",videoUrl:"7fae7aaea0729ab940ce63fe7a803a31",description:"Feeling unbeatable with swagger",category:"Attitude"},{id:"typing-keyboard",title:"TYPING ON KEYBOARD",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/9f450d62cc607ad71ff6460088b76c6e/thumbnails/thumbnail.jpg",videoUrl:"9f450d62cc607ad71ff6460088b76c6e",description:"Typing on the keyboard",category:"Tech"},{id:"levitating-kevin",title:"LEVITATING KEVIN",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/60e9fd7f1ec2b6fc5541f615e7ea3072/thumbnails/thumbnail.jpg",videoUrl:"60e9fd7f1ec2b6fc5541f615e7ea3072",description:"Levitating and giving off energy",category:"Magic"},{id:"alien-abduction-2",title:"ALIEN ABDUCTION 2",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/19a46048b00ac15cbfed2926c722b937/thumbnails/thumbnail.jpg",videoUrl:"19a46048b00ac15cbfed2926c722b937",description:"Abducted by aliens",category:"Sci-Fi"},{id:"money-rain",title:"MONEY RAIN",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/a1c8b11771d4bc008cfaf5491a1df0e7/thumbnails/thumbnail.jpg",videoUrl:"a1c8b11771d4bc008cfaf5491a1df0e7",description:"Money raining down",category:"Finance"},{id:"kevin-video-3",title:"KEVIN SEQUENCE",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/2878a16fb325ffc4f8a8cecd050bfc13/thumbnails/thumbnail.jpg",videoUrl:"2878a16fb325ffc4f8a8cecd050bfc13",description:"Kevin video sequence",category:"Entertainment"},{id:"incredible-magic",title:"INCREDIBLE MAGIC",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/d47e6e85526ab8187930fef4a09b7967/thumbnails/thumbnail.jpg",videoUrl:"d47e6e85526ab8187930fef4a09b7967",description:"Incredible magic is happening",category:"Magic"},{id:"nightmare-kevin",title:"NIGHTMARE KEVIN",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/75b8d65cf6b2fa0a22fbf6b5c9b78fad/thumbnails/thumbnail.jpg",videoUrl:"75b8d65cf6b2fa0a22fbf6b5c9b78fad",description:"Living in a nightmare",category:"Drama"},{id:"boss-attitude",title:"BOSS ATTITUDE",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/ea1ac8dd2e9c705ad6628a9a7f261a4e/thumbnails/thumbnail.jpg",videoUrl:"ea1ac8dd2e9c705ad6628a9a7f261a4e",description:"The boss attitude",category:"Attitude"},{id:"james-bond-credits",title:"JAMES BOND CREDITS",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/a6f64bab755c465ca1d0ebe6753a49bf/thumbnails/thumbnail.jpg",videoUrl:"a6f64bab755c465ca1d0ebe6753a49bf",description:"James Bond opening credits",category:"Movies"},{id:"offering-business",title:"OFFERING BUSINESS",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/442e0d542d4664c51e36eecd05da0c2a/thumbnails/thumbnail.jpg",videoUrl:"442e0d542d4664c51e36eecd05da0c2a",description:"Walking around offering business",category:"Business"},{id:"running-from-dino",title:"RUNNING FROM DINO",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/02ef13744bd564ef7ac107c3eda8548b/thumbnails/thumbnail.jpg",videoUrl:"02ef13744bd564ef7ac107c3eda8548b",description:"Running away from the dinosaur",category:"Action"},{id:"action-movie",title:"ACTION MOVIE STYLE",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/180fcef43b97093ff2d332111465e105/thumbnails/thumbnail.jpg",videoUrl:"180fcef43b97093ff2d332111465e105",description:"Action movie style",category:"Action"},{id:"walking-sheep",title:"WALKING THE SHEEP",type:"video",imageUrl:"https://customer-hls7a0n7rbjgz9uk.cloudflarestream.com/6d49e973e05cf3df2ac9bac64a018414/thumbnails/thumbnail.jpg",videoUrl:"6d49e973e05cf3df2ac9bac64a018414",description:"Walking the sheep",category:"Animals"},{id:"glitch-kevin",title:"GLITCH KEVIN",type:"image",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/71ec197f-88a5-4706-4cab-f976f4fcf500/width=400",description:"Digital Corruption",category:"Glitch Art"},{id:"kevin-4-president",title:"KEVIN 4 PRESIDENT",type:"image",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/0914e9a8-d29b-423b-a633-38b5c1bc3700/width=400",description:"Presidential Campaign",category:"Politics"},{id:"kevsurf",title:"KEVSURF",type:"image",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/f07d3377-921a-49ea-9a99-6f50e2505200/width=400",description:"Kevin Surfing",category:"Sports"},{id:"jaguar-bond",title:"JAGUAR BOND",type:"image",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/56c35540-04c1-4cbf-8e20-34297ca43b00/width=400",description:"Secret Agent Kevin",category:"Action"},{id:"shep1",title:"SHEP1",type:"image",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/87d41a64-7af4-421d-fd62-7e6bc4a10500/width=400",description:"Kevin Shepherd",category:"Animals"},{id:"img-0881",title:"KEVIN PORTRAIT",type:"image",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/f6a33821-c039-4164-bc58-9af890e24f00/width=400",description:"Portrait Style",category:"Art"},{id:"kevin-4-president-2",title:"KEVIN 4 PRESIDENT 2",type:"image",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/2e072512-45cc-4bab-1211-5b302731b700/width=400",description:"Campaign Design 2",category:"Politics"},{id:"s2cash",title:"S2CASH",type:"image",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/30c796dc-57c4-4152-9772-ab7556303e00/width=400",description:"Cash Money Kevin",category:"Finance"},{id:"francis-chester",title:"FRANCIS CHESTER",type:"image",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/a33ce6b3-2fca-4db4-cb51-5979e83a4500/width=400",description:"Black Sheep Character",category:"Characters"},{id:"prisoner-kevin",title:"KEVIN PRISONER",type:"image",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/37c1ab01-87ca-4dc9-bdf4-10681ab62100/width=400",description:"Orange Jumpsuit",category:"Drama"},{id:"screenshot-kevin",title:"KEVIN SCREENSHOT",type:"image",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/32661ae9-451f-462f-96b0-7d9ac1278f00/width=400",description:"Screen Capture",category:"Tech"},{id:"devin-pie",title:"DEVIN PIE",type:"image",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/2cb142cc-80a2-49c6-61d5-0a6717edc100/width=400",description:"Pie Chart Kevin",category:"Food"},{id:"mandy",title:"MANDY",type:"image",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/d11f393e-1c3b-4020-ead0-6556eef59600/width=400",description:"Mandy Character",category:"Characters"},{id:"amandao",title:"AMANDAO",type:"image",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/0388c6e6-0ac5-4eef-86ca-39ed0cdbf700/width=400",description:"Amanda Character",category:"Characters"},{id:"img-4621",title:"KEVIN IMAGE",type:"image",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/165b79b1-287d-4345-80a0-70059851a200/width=400",description:"Kevin Portrait",category:"Art"},{id:"kevin-campbell",title:"KEVIN CAMPBELL",type:"image",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/bf44c12f-05dd-4c04-c41a-4fc37f269800/width=400",description:"Campbell Kevin",category:"Art"},{id:"kevin-sailing",title:"KEVIN SAILING",type:"image",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/c79866af-ece2-4999-054b-d757dc0f4200/width=400",description:"Ocean Adventure",category:"Adventure"},{id:"giant-book",title:"GIANT BOOK",type:"image",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/3d57717e-06e8-4d0b-e8c8-5bc41ad6fb00/width=400",description:"Kevin with Giant Book",category:"Education"},{id:"sammy-woods",title:"SAMMY WOODS",type:"image",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/022a90dc-f3f0-4341-a982-9bc27882bd00/width=400",description:"Historical Character",category:"Historical"},{id:"kevin-dance-gif",title:"KEVIN DANCE",type:"gif",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/0914e9a8-d29b-423b-a633-38b5c1bc3700/width=400",description:"Dancing Kevin GIF",category:"Animation"},{id:"kevin-wink-gif",title:"KEVIN WINK",type:"gif",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/f07d3377-921a-49ea-9a99-6f50e2505200/width=400",description:"Winking Kevin GIF",category:"Animation"},{id:"kevin-wave-gif",title:"KEVIN WAVE",type:"gif",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/56c35540-04c1-4cbf-8e20-34297ca43b00/width=400",description:"Waving Kevin GIF",category:"Animation"},{id:"kevin-thumbs-up-gif",title:"KEVIN THUMBS UP",type:"gif",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/87d41a64-7af4-421d-fd62-7e6bc4a10500/width=400",description:"Thumbs up Kevin GIF",category:"Animation"},{id:"kevin-celebration-gif",title:"KEVIN CELEBRATION",type:"gif",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/f6a33821-c039-4164-bc58-9af890e24f00/width=400",description:"Celebrating Kevin GIF",category:"Animation"},{id:"kevin-shrug-gif",title:"KEVIN SHRUG",type:"gif",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/2e072512-45cc-4bab-1211-5b302731b700/width=400",description:"Shrugging Kevin GIF",category:"Animation"},{id:"kevin-point-gif",title:"KEVIN POINT",type:"gif",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/30c796dc-57c4-4152-9772-ab7556303e00/width=400",description:"Pointing Kevin GIF",category:"Animation"},{id:"kevin-nod-gif",title:"KEVIN NOD",type:"gif",imageUrl:"https://memedepot.com/cdn-cgi/imagedelivery/naCPMwxXX46-hrE49eZovw/a33ce6b3-2fca-4db4-cb51-5979e83a4500/width=400",description:"Nodding Kevin GIF",category:"Animation"}],Ue=Object.freeze(Object.defineProperty({__proto__:null,communityMemes:J},Symbol.toStringTag,{value:"Module"})),L={COMMUNITY_API:{BASE_URL:"https://memedepot.com/d/kevin-depot",TIMEOUT:1e4,RETRY_ATTEMPTS:3,CACHE_TTL:5*60*1e3,RETRY_DELAY:1e3},FALLBACK_DATA:{STATIC_MEMES:"/static/community-fallback.json",OFFLINE_MESSAGE:"Community content temporarily unavailable",CACHE_KEY:"kevin-community-cache"},MONITORING:{ENABLED:!0,LOG_LEVEL:"info",TRACK_PERFORMANCE:!0}};class Le{constructor(){this.config=L.COMMUNITY_API}async fetchCommunityData(){const a=Date.now();try{const i=await this.makeRequest();if(i.ok)return{data:await this.parseResponse(i),error:null,metadata:{timestamp:new Date,duration:Date.now()-a,source:"live"}};throw new Error(`HTTP ${i.status}: ${i.statusText}`)}catch(i){console.warn("Community API fetch failed:",i);const s=await this.handleFallback(i,a);return s||{data:null,error:this.createError(i),metadata:{timestamp:new Date,duration:Date.now()-a,source:"fallback"}}}}async makeRequest(){const a=new AbortController,i=setTimeout(()=>a.abort(),this.config.TIMEOUT);try{return await fetch(this.config.BASE_URL,{signal:a.signal,mode:"cors",headers:{"User-Agent":"Mozilla/5.0 (compatible; KevinGallery/2.0)",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","Accept-Language":"en-US,en;q=0.5","Cache-Control":"no-cache",Pragma:"no-cache"},credentials:"omit"})}catch(s){throw s instanceof TypeError&&s.message.includes("CORS")?(console.warn("CORS error detected, falling back to static data"),new Error("CORS_ERROR: Direct scraping blocked by browser security")):s}finally{clearTimeout(i)}}async parseResponse(a){const i=await a.text(),c=new DOMParser().parseFromString(i,"text/html"),n=this.extractStats(c),g=await this.extractContent(c);return{totalMemes:n.totalMemes,totalVideos:n.totalVideos,totalGifs:n.totalGifs,totalImages:n.totalImages,totalViews:n.totalViews,totalArtists:n.totalArtists,depotUrl:this.config.BASE_URL,lastUpdated:new Date().toISOString(),dataSource:"Kevin Depot (live data)",featured:g.featured}}extractStats(a){var c,n,g;let i=137,s=1100;try{const v=a.body.textContent||"",h=v.match(/(\d+)\s*\n?\s*Memes/i);if(h){const o=parseInt(h[1]);o>0&&o<1e4&&(i=o,console.log("Found memes count:",o))}const u=v.match(/(\d+(?:\.\d+)?[Kk]?)\s*\n?\s*Views/i);if(u){const o=u[1];if(o.includes("K")||o.includes("k")){const m=parseFloat(o.replace(/[Kk]/,""));s=Math.round(m*1e3),console.log("Found views count (K format):",o,"->",s)}else{const m=parseInt(o);m>0&&m<1e5&&(s=m,console.log("Found views count:",m))}}const p=a.querySelectorAll("*");for(const o of Array.from(p)){const m=((c=o.textContent)==null?void 0:c.trim())||"";if(m==="137"||m==="1.1K"){const C=o.parentElement,w=C?Array.from(C.children):[],S=w.indexOf(o);if(S<w.length-1){const I=((n=w[S+1].textContent)==null?void 0:n.trim())||"";if(I.toLowerCase().includes("memes"))i=parseInt(m),console.log("Found memes via sibling:",m,I);else if(I.toLowerCase().includes("views"))if(m.includes("K")||m.includes("k")){const y=parseFloat(m.replace(/[Kk]/,""));s=Math.round(y*1e3),console.log("Found views via sibling (K format):",m,I,"->",s)}else s=parseInt(m),console.log("Found views via sibling:",m,I)}}}const x=a.querySelectorAll('[class*="stat"], [class*="count"], [class*="number"]');for(const o of Array.from(x)){const m=((g=o.textContent)==null?void 0:g.trim())||"";m.includes("137")&&m.includes("Memes")&&(i=137,console.log("Found memes in stat container:",m)),m.includes("1.1K")&&m.includes("Views")&&(s=1100,console.log("Found views in stat container:",m))}}catch(v){console.warn("Stats extraction failed, using defaults:",v)}return{totalMemes:i,totalViews:s,totalArtists:1,totalVideos:14,totalGifs:8,totalImages:45}}async extractContent(a){const i=[];try{const s=['img[src*="cdn-cgi/imagedelivery"]','img[src*="memedepot.com"]',".gallery-item img",".meme-item img",'[data-type="image"] img'],c=[];for(const u of s)a.querySelectorAll(u).forEach(x=>{const o=x.getAttribute("src");o&&!c.includes(o)&&c.push(o)});const n=c.slice(0,6).map((u,p)=>({id:`live-kevin-${Date.now()}-${p}`,title:`🔴 LIVE KEVIN #${p+1}`,type:"image",imageUrl:u.replace("/width=3840","/width=400").replace("/width=1920","/width=400"),description:"Live from Kevin Depot",category:"Live Update"}));i.push(...n);const g=['img[src*="cloudflarestream.com"]','iframe[src*="cloudflarestream.com"]','[data-type="video"] img'],v=[];for(const u of g)a.querySelectorAll(u).forEach(x=>{const o=x.getAttribute("src")||"";o.includes("cloudflarestream.com")&&!v.includes(o)&&v.push(o)});const h=v.slice(0,2).map((u,p)=>{var o;const x=((o=u.match(/([a-f0-9-]+)\/thumbnails/))==null?void 0:o[1])||"";return{id:`live-video-${Date.now()}-${p}`,title:`🎬 LIVE VIDEO #${p+1}`,type:"video",imageUrl:u,videoUrl:x,description:"Live video from Kevin Depot",category:"Community"}});i.push(...h)}catch(s){console.warn("Content extraction failed:",s)}return{featured:i}}async handleFallback(a,i){try{const s=this.getCachedData();if(s)return{data:s.data,error:null,metadata:{timestamp:new Date,duration:Date.now()-i,source:"cached",cachedAt:s.timestamp}};const c=await this.getStaticFallback();if(c)return{data:c,error:null,metadata:{timestamp:new Date,duration:Date.now()-i,source:"fallback"}}}catch(s){console.warn("Fallback strategies failed:",s)}return null}getCachedData(){if(typeof window>"u")return null;try{const a=localStorage.getItem(L.FALLBACK_DATA.CACHE_KEY);if(!a)return null;const i=JSON.parse(a);return Date.now()-i.timestamp>this.config.CACHE_TTL?(localStorage.removeItem(L.FALLBACK_DATA.CACHE_KEY),null):{data:i.data,timestamp:new Date(i.timestamp)}}catch(a){return console.warn("Cache retrieval failed:",a),null}}async getStaticFallback(){try{const{communityMemes:a}=await Ee(async()=>{const{communityMemes:i}=await Promise.resolve().then(()=>Ue);return{communityMemes:i}},void 0);return{totalMemes:137,totalVideos:a.filter(i=>i.type==="video").length,totalGifs:a.filter(i=>i.type==="gif").length,totalImages:a.filter(i=>i.type==="image").length,totalViews:1100,totalArtists:1,depotUrl:this.config.BASE_URL,lastUpdated:new Date().toISOString(),dataSource:"Kevin Depot (static fallback)",featured:a.slice(0,8)}}catch(a){return console.warn("Static fallback failed:",a),null}}createError(a){var n,g,v,h;let i="UNKNOWN_ERROR",s="An unexpected error occurred",c=!0;if(a.name==="AbortError")i="TIMEOUT",s="Request timed out",c=!0;else if((n=a.message)!=null&&n.includes("CORS_ERROR"))i="CORS_ERROR",s="Cross-origin request blocked by browser security",c=!1;else if((g=a.message)!=null&&g.includes("HTTP")){const u=a.message.match(/HTTP (\d+)/);if(u){const p=parseInt(u[1]);i=`HTTP_${p}`,s=`Server error: ${p}`,c=p>=500}}else((v=a.message)!=null&&v.includes("NetworkError")||(h=a.message)!=null&&h.includes("Failed to fetch"))&&(i="NETWORK_ERROR",s="Network connection failed",c=!0);return{code:i,message:s,status:a.status,retryable:c,details:{originalError:a.message,timestamp:new Date().toISOString(),userAgent:typeof navigator<"u"?navigator.userAgent:"unknown"}}}cacheResponse(a){if(!(typeof window>"u"))try{const i={data:a,timestamp:Date.now()};localStorage.setItem(L.FALLBACK_DATA.CACHE_KEY,JSON.stringify(i))}catch(i){console.warn("Response caching failed:",i)}}}const ge=new Le;function Ke(f={}){const{enabled:a=!0,refetchInterval:i=5*60*1e3,retryCount:s=2,onSuccess:c,onError:n}=f,g=je(),[v,h]=r.useState(null),[u,p]=r.useState(null),[x,o]=r.useState(0),m=r.useCallback(async()=>{try{const b=await ge.fetchCommunityData();if(b.error)throw b.error;if(b.data)return ge.cacheResponse(b.data),h(b.metadata.source),p(b.metadata.timestamp),c==null||c(b.data),b.data;throw new Error("No data received from API")}catch(b){console.error("Community data fetch failed:",b);const E=Re();if(E)return h("cached"),p(E.timestamp),E.data;throw b&&typeof b=="object"&&"code"in b&&(n==null||n(b)),b}},[c,n]),{data:C,error:w,isLoading:S,isError:M,isSuccess:I,refetch:y,isRefetching:V}=Ie({queryKey:["community-data"],queryFn:m,enabled:a,refetchInterval:i,retry:(b,E)=>b>=s?!1:E&&typeof E=="object"&&"retryable"in E?E.retryable!==!1:!0,retryDelay:b=>(o(b+1),Math.min(1e3*2**b,3e4)),staleTime:2*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:!0}),F=r.useCallback(()=>{console.log("Manual retry triggered for community data"),o(0),y()},[y]),B=r.useCallback(()=>{if(typeof window<"u")try{localStorage.removeItem(L.FALLBACK_DATA.CACHE_KEY),g.invalidateQueries({queryKey:["community-data"]}),h(null),p(null),console.log("Community data cache cleared")}catch(b){console.warn("Failed to clear cache:",b)}},[g]);return r.useEffect(()=>{const b=()=>{console.log("Network connection restored - refetching community data"),y()},E=()=>{console.log("Network connection lost - using cached data if available"),h("cached")};return window.addEventListener("online",b),window.addEventListener("offline",E),()=>{window.removeEventListener("online",b),window.removeEventListener("offline",E)}},[y]),r.useEffect(()=>{},[S,M,I,v,u,x,C,w]),{data:C||null,error:w,isLoading:S||V,isError:M,isSuccess:I,dataSource:v,lastUpdated:u,retry:F,refetch:y,clearCache:B}}function Re(){if(typeof window>"u")return null;try{const f=localStorage.getItem(L.FALLBACK_DATA.CACHE_KEY);if(!f)return null;const a=JSON.parse(f);return Date.now()-a.timestamp>L.COMMUNITY_API.CACHE_TTL?(localStorage.removeItem(L.FALLBACK_DATA.CACHE_KEY),null):{data:a.data,timestamp:new Date(a.timestamp)}}catch(f){return console.warn("Cache retrieval failed:",f),null}}function De(){const[f,a]=r.useState(!0),[i,s]=r.useState(new Date);r.useEffect(()=>{const n=()=>{a(navigator.onLine),s(new Date)};return window.addEventListener("online",n),window.addEventListener("offline",n),n(),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",n)}},[]);const c=r.useCallback(async()=>{try{const n=new AbortController,g=setTimeout(()=>n.abort(),5e3),v=await fetch(L.COMMUNITY_API.BASE_URL,{method:"HEAD",signal:n.signal});return clearTimeout(g),s(new Date),{healthy:v.ok,status:v.status,lastChecked:new Date}}catch(n){return s(new Date),{healthy:!1,status:0,lastChecked:new Date,error:n instanceof Error?n.message:"Unknown error"}}},[]);return{isOnline:f,lastChecked:i,checkHealth:c}}function Oe({message:f="Loading Kevin Depot...",showProgress:a=!0,timeout:i=30,onTimeout:s,className:c}){const[n,g]=r.useState(0),[v,h]=r.useState(f),[u,p]=r.useState(i);return r.useEffect(()=>{const x=["Initializing connection...","Scanning for Kevin content...","Fetching memes and videos...","Processing community data...","Almost ready..."];let o=0,m=0;const C=setInterval(()=>{m+=Math.random()*15+5,m>100&&(m=100),g(m),m>20&&o===0?(o=1,h(x[1])):m>40&&o===1?(o=2,h(x[2])):m>70&&o===2?(o=3,h(x[3])):m>90&&o===3&&(o=4,h(x[4]))},500),w=setInterval(()=>{p(S=>{const M=S-1;return M<=0?(s==null||s(),clearInterval(w),clearInterval(C),0):M})},1e3);return()=>{clearInterval(C),clearInterval(w)}},[s]),e.jsxs("div",{className:H("terminal-window p-6 text-center",c),children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-kevin-neon border-t-transparent rounded-full animate-spin mx-auto"}),e.jsx("div",{className:"absolute inset-2 bg-kevin-orange rounded-full animate-pulse opacity-30"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"font-pixel text-kevin-orange text-xs animate-pulse",children:"K3V1N"})})]}),e.jsx("h3",{className:"font-pixel text-xl text-kevin-orange mb-3",children:v}),a&&e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full bg-kevin-graphite rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-kevin-orange to-kevin-neon transition-all duration-300 ease-out",style:{width:`${n}%`}})}),e.jsxs("div",{className:"text-xs text-kevin-mint mt-1",children:[Math.round(n),"% complete"]})]}),e.jsxs("div",{className:"space-y-2 text-sm text-kevin-mint mb-4",children:[e.jsx("div",{children:"> Establishing connection to Kevin Depot..."}),e.jsx("div",{children:"> Scanning for fresh community content..."}),e.jsx("div",{children:"> Processing memes, videos, and GIFs..."}),u>0&&e.jsxs("div",{children:["> Auto-retry in ",u," seconds..."]})]}),e.jsx("div",{className:"flex justify-center space-x-2 mb-4",children:[0,1,2].map(x=>e.jsx("div",{className:"w-2 h-2 bg-kevin-neon rounded-full animate-bounce",style:{animationDelay:`${x*.2}s`,animationDuration:"1s"}},x))}),u<=10&&u>0&&e.jsx("div",{className:"bg-yellow-900/30 border border-yellow-500 rounded p-3 mb-4",children:e.jsxs("div",{className:"text-yellow-200 text-sm",children:["⚠️ Taking longer than expected... Will retry automatically in ",u," seconds"]})}),e.jsxs("div",{className:"text-xs text-kevin-steel border-t border-kevin-graphite pt-4",children:[e.jsx("div",{children:"🔗 Connecting to: memedepot.com/d/kevin-depot"}),e.jsxs("div",{children:["⏱️  Timeout: ",i," seconds"]}),e.jsx("div",{children:"📊 Status: Attempting connection..."})]})]})}function Pe({error:f,onRetry:a,className:i}){const c=(()=>{switch(f.code){case"TIMEOUT":return{icon:"⏰",title:"Connection Timeout",message:"The connection to Kevin Depot took too long. This might be due to network issues.",suggestion:"Try again in a few moments",severity:"warning"};case"NETWORK_ERROR":return{icon:"🌐",title:"Network Connection Failed",message:"Unable to connect to Kevin Depot. Please check your internet connection.",suggestion:"Check your network connection and try again",severity:"error"};case"HTTP_404":return{icon:"🔍",title:"Content Not Found",message:"The Kevin Depot page could not be found. It might have moved.",suggestion:"The page might be temporarily unavailable",severity:"warning"};case"HTTP_500":case"HTTP_502":case"HTTP_503":return{icon:"🛠️",title:"Server Maintenance",message:"Kevin Depot is currently undergoing maintenance.",suggestion:"Please try again later",severity:"info"};case"CORS_ERROR":return{icon:"🔒",title:"Browser Security Block",message:"Your browser blocked the connection to Kevin Depot for security reasons.",suggestion:"Using static community content instead",severity:"info"};default:return{icon:"⚠️",title:"Connection Issue",message:f.message||"Unable to load community content",suggestion:"Showing cached content if available",severity:"warning"}}})(),n={error:"border-red-500 bg-red-900/20 text-red-100",warning:"border-yellow-500 bg-yellow-900/20 text-yellow-100",info:"border-blue-500 bg-blue-900/20 text-blue-100"};return e.jsxs("div",{className:H("terminal-window p-6 text-center",n[c.severity],i),children:[e.jsx("div",{className:"text-4xl mb-4 animate-pulse",children:c.icon}),e.jsx("h3",{className:"font-pixel text-xl text-kevin-orange mb-3",children:c.title}),e.jsx("p",{className:"text-white mb-4 leading-relaxed",children:c.message}),e.jsxs("p",{className:"text-sm text-kevin-mint mb-6 italic",children:["💡 ",c.suggestion]}),!1,e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[a&&e.jsx("button",{onClick:a,className:"pixel-btn px-6 py-2 text-black bg-kevin-orange border-kevin-orange hover:bg-opacity-80 transition-colors",children:"🔄 RETRY CONNECTION"}),e.jsx("a",{href:"https://memedepot.com/d/kevin-depot",target:"_blank",rel:"noopener noreferrer",className:"pixel-btn px-6 py-2 text-black bg-kevin-neon border-kevin-neon hover:bg-opacity-80 transition-colors",children:"🌐 VISIT KEVIN DEPOT"})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-kevin-graphite",children:e.jsxs("div",{className:"text-xs text-kevin-steel",children:[e.jsxs("div",{children:["Last attempt: ",new Date().toLocaleTimeString()]}),e.jsxs("div",{children:["Error Code: ",f.code]}),f.retryable&&e.jsx("div",{className:"text-green-400 mt-1",children:"✅ This error is retryable"})]})})]})}function Ve(f){const[a,i]=r.useState(!1),[s,c]=r.useState(!1),n=r.useRef(null);return r.useEffect(()=>{const g=n.current;if(!g)return;const v=new IntersectionObserver(([h])=>{const u=h.isIntersecting;i(u),u&&!s&&c(!0)},{threshold:.1,rootMargin:"50px",...f});return v.observe(g),()=>{v.unobserve(g)}},[s,f]),{ref:n,isIntersecting:a,hasIntersected:s}}function Fe(f,a){const[i,s]=r.useState(a||""),[c,n]=r.useState(!1),[g,v]=r.useState(!1),{ref:h,hasIntersected:u}=Ve();return r.useEffect(()=>{if(u&&!c){const p=new Image;p.src=f,p.onload=()=>{s(f),n(!0),v(!1)},p.onerror=()=>{v(!0),a||s("")}}},[u,f,c,a]),{ref:h,src:i,isLoaded:c,hasError:g,shouldLoad:u}}function he({src:f,alt:a,placeholder:i,className:s,containerClassName:c,showLoadingIndicator:n=!1,fallbackSrc:g,...v}){const{ref:h,src:u,isLoaded:p,hasError:x,shouldLoad:o}=Fe(f,i),m=i||`data:image/svg+xml;base64,${btoa(`
    <svg width="400" height="300" xmlns="http://www.w3.org/2000/svg">
      <rect width="100%" height="100%" fill="#1a1a1a"/>
      <text x="50%" y="50%" font-family="monospace" font-size="16" fill="#ff6b35" text-anchor="middle" dy=".3em">K3V1N</text>
      <text x="50%" y="70%" font-family="monospace" font-size="12" fill="#00ff88" text-anchor="middle" dy=".3em">Loading...</text>
    </svg>
  `)}`;return e.jsxs("div",{className:H("relative overflow-hidden",c),ref:h,children:[n&&o&&!p&&!x&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-kevin-charcoal",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-kevin-neon border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-kevin-mint text-xs font-pixel",children:"Loading..."})]})}),x&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-kevin-charcoal border-2 border-red-500",children:e.jsxs("div",{className:"text-center p-4",children:[e.jsx("div",{className:"text-red-400 text-2xl mb-2",children:"⚠️"}),e.jsx("div",{className:"text-red-300 text-xs font-pixel",children:"Failed to load"}),g&&e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 text-xs text-kevin-orange hover:text-kevin-neon underline",children:"Retry"})]})}),e.jsx("img",{src:x&&g?g:u||m,alt:a,className:H("transition-opacity duration-300",p?"opacity-100":"opacity-60",x?"filter grayscale":"",s),style:{imageRendering:"pixelated",...v.style},...v}),!1]})}function _e({src:f,alt:a,...i}){return e.jsx(he,{src:f,alt:a,placeholder:`data:image/svg+xml;base64,${btoa(`
        <svg width="400" height="300" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#1a1a1a"/>
          <rect x="50%" y="50%" width="100" height="8" fill="#ff6b35" transform="translate(-50, -4)"/>
          <text x="50%" y="70%" font-family="monospace" font-size="12" fill="#00ff88" text-anchor="middle" dy=".3em">KEVIN</text>
        </svg>
      `)}`,className:"w-full h-32 object-contain pixel-perfect transition-transform duration-200 hover:scale-105 bg-kevin-charcoal",showLoadingIndicator:!1,loading:"lazy",...i})}const q=768;function Ge(){const[f,a]=r.useState(void 0);return r.useEffect(()=>{const i=window.matchMedia(`(max-width: ${q-1}px)`),s=()=>{a(window.innerWidth<q)};return i.addEventListener("change",s),a(window.innerWidth<q),()=>i.removeEventListener("change",s)},[]),!!f}function He({showAll:f=!1,itemsPerPage:a=16,enableInfiniteScroll:i=!0,enableSearch:s=!0,enableAdvancedFilters:c=!0}){Ce();const n=Ge(),[g,v]=r.useState("all"),[h,u]=r.useState(null),[p,x]=r.useState(null),[o,m]=r.useState(null),C=r.useRef(null),[w,S]=r.useState(""),[M,I]=r.useState("newest"),[y,V]=r.useState("grid");r.useState(1);const[F,B]=r.useState(a),[b,E]=r.useState(!1),[D,Q]=r.useState([]),_=r.useRef(null),[G,Y]=r.useState(0),[X,ee]=r.useState(!1),[Z,te]=r.useState(null),[ie,ae]=r.useState(0),[O,ne]=r.useState(null),{data:k,error:T,isLoading:K,dataSource:R,lastUpdated:se,retry:P,clearCache:ue}=Ke({refetchInterval:5*60*1e3,onError:t=>{console.warn("Community gallery error:",t)}}),{isOnline:re}=De(),W=(k==null?void 0:k.featured)||[],pe=J.filter(t=>!W.some(l=>l.id===t.id)),j=W.length>0?[...W,...pe]:J,fe=j.filter(t=>g==="all"?!0:t.type===g),A=r.useMemo(()=>{let t=j;if(g!=="all"&&(t=t.filter(l=>l.type===g)),w.trim()){const l=w.toLowerCase().trim();t=t.filter(d=>d.title.toLowerCase().includes(l)||d.description.toLowerCase().includes(l)||d.category.toLowerCase().includes(l))}return D.length>0&&(t=t.filter(l=>D.includes(l.category))),t.sort((l,d)=>{switch(M){case"oldest":return(l.id||"").localeCompare(d.id||"");case"popular":const U=l.title.length*.3+(l.type==="video"?20:l.type==="gif"?15:10);return d.title.length*.3+(d.type==="video"?20:d.type==="gif"?15:10)-U;case"title":return l.title.localeCompare(d.title);case"newest":default:return(d.id||"").localeCompare(l.id||"")}}),t},[j,g,w,D,M]),N=r.useMemo(()=>f||!i?A:A.slice(0,F),[A,f,i,F]),oe=r.useMemo(()=>{const t=new Set(j.map(l=>l.category));return Array.from(t).sort()},[j]),ce=r.useCallback(()=>{b||!i||N.length>=A.length||(E(!0),setTimeout(()=>{B(t=>Math.min(t+a,A.length)),E(!1)},500))},[b,i,N.length,A.length,a]);r.useEffect(()=>{if(!i||!_.current)return;const t=new IntersectionObserver(d=>{d[0].isIntersecting&&N.length<A.length&&ce()},{threshold:.1,rootMargin:"100px"}),l=document.createElement("div");return l.style.height="20px",l.setAttribute("data-sentinel","true"),_.current.appendChild(l),t.observe(l),()=>{var U;const d=(U=_.current)==null?void 0:U.querySelector('[data-sentinel="true"]');d&&d.parentNode&&d.parentNode.removeChild(d),t.disconnect()}},[i,N.length,A.length,ce]);const ve=r.useCallback(t=>{n&&te(t.touches[0].clientY)},[n]),be=r.useCallback(t=>{if(!n||Z===null)return;const d=t.touches[0].clientY-Z;if(d>0&&window.scrollY<=10){t.preventDefault();const U=Math.min(d*.5,120);Y(U)}},[n,Z]),xe=r.useCallback(()=>{n&&(G>80?(ee(!0),Y(0),setTimeout(()=>{P(),ee(!1)},1e3)):Y(0),te(null))},[n,G,P]),ye=r.useCallback(t=>{const l=Date.now();l-ie<300&&(O==null?void 0:O.id)===t.id?(console.log("Double tap on:",t.title),ae(0),ne(null)):(ae(l),ne(t))},[ie,O]),we=r.useCallback(t=>{n&&("vibrate"in navigator&&navigator.vibrate(50),console.log("Long press on:",t.title))},[n]);r.useEffect(()=>{if(!n)return;window.matchMedia("(prefers-reduced-motion: reduce)").matches&&document.documentElement.style.setProperty("--animation-duration","0s");const l=document.documentElement.style.getPropertyValue("--animation-duration");return()=>{l?document.documentElement.style.setProperty("--animation-duration",l):document.documentElement.style.removeProperty("--animation-duration")}},[n]),r.useEffect(()=>{if(!n)return;const t=l=>{const d=document.createElement("div");d.setAttribute("aria-live","polite"),d.setAttribute("aria-atomic","true"),d.style.position="absolute",d.style.left="-10000px",d.style.width="1px",d.style.height="1px",d.style.overflow="hidden",d.textContent=l,document.body.appendChild(d),setTimeout(()=>document.body.removeChild(d),1e3)};b&&t("Loading more KEVIN content"),X&&t("Refreshing KEVIN content")},[n,b,X]),r.useEffect(()=>{},[fe.length,N.length,f,a,g,k,j.length,K,T,re]);const ke=[{key:"all",label:"ALL",icon:"🎨"},{key:"image",label:"IMAGES",icon:"🖼️"},{key:"video",label:"VIDEOS",icon:"🎬"},{key:"gif",label:"GIFS",icon:"🎞️"}],le=()=>{m(null),C.current&&C.current.pause()},de=()=>{u(null)},Ne=()=>{le(),de()},z=t=>{t.type==="video"&&t.videoUrl?(console.log("Opening video modal:",t.title,t.videoUrl),m(t)):(t.type==="image"||t.type==="gif")&&(console.log("Opening image modal:",t.title,t.type),u(t))};return r.useEffect(()=>{const t=l=>{if(l.key==="Escape"){Ne();return}if(!h&&!o&&N.length>0){const d=p?N.findIndex(U=>U.id===p.id):-1;switch(l.key){case"ArrowRight":case"ArrowDown":l.preventDefault();const U=Math.min(d+1,N.length-1);x(N[U]);break;case"ArrowLeft":case"ArrowUp":l.preventDefault();const me=Math.max(d-1,0);x(N[me]);break;case"Enter":case" ":l.preventDefault(),p?z(p):N.length>0&&z(N[0]);break}}};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[p,h,o,N]),T&&console.warn("Community API error:",T),e.jsxs("div",{className:"space-y-8",children:[n&&e.jsx("div",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${G>0?"translate-y-0":"-translate-y-full"}`,style:{transform:`translateY(${Math.max(-100,G-100)}%)`},children:e.jsxs("div",{className:"bg-kevin-orange text-black text-center py-4 flex items-center justify-center gap-3",children:[e.jsx(Me,{className:`w-5 h-5 ${X?"animate-spin":""}`}),e.jsx("span",{className:"font-pixel text-sm",children:X?"REFRESHING KEVIN...":"PULL TO REFRESH"})]})}),e.jsxs("div",{className:`bg-kevin-charcoal border-2 border-kevin-orange rounded-lg ${n?"p-4 mx-2":"p-6"}`,children:[e.jsxs("div",{className:`flex flex-col gap-4 items-start justify-between ${n?"space-y-4":"lg:flex-row lg:items-center"}`,children:[s&&e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(Te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-kevin-mint w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search KEVIN content...",value:w,onChange:t=>S(t.target.value),className:"w-full pl-10 pr-4 py-2 bg-kevin-graphite border border-kevin-steel text-white placeholder-kevin-mint focus:border-kevin-neon focus:outline-none"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>V("grid"),className:`pixel-btn p-2 ${y==="grid"?"bg-kevin-orange text-black":"bg-kevin-graphite text-white"}`,title:"Grid View",children:e.jsx(Ae,{size:16})}),e.jsx("button",{onClick:()=>V("list"),className:`pixel-btn p-2 ${y==="list"?"bg-kevin-orange text-black":"bg-kevin-graphite text-white"}`,title:"List View",children:e.jsx(Se,{size:16})})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("select",{value:M,onChange:t=>I(t.target.value),className:"pixel-btn bg-kevin-graphite text-white border-kevin-steel px-3 py-2",children:[e.jsx("option",{value:"newest",children:"🆕 Newest"}),e.jsx("option",{value:"oldest",children:"📅 Oldest"}),e.jsx("option",{value:"popular",children:"🔥 Popular"}),e.jsx("option",{value:"title",children:"📝 Title"})]})})]}),c&&e.jsx("div",{className:"mt-4 pt-4 border-t border-kevin-steel",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsx("div",{className:"flex gap-2",children:ke.map(t=>e.jsxs("button",{className:`
                      pixel-btn px-4 py-2 text-sm transition-all cursor-pointer focus-visible
                      ${g===t.key?"bg-kevin-orange text-black border-kevin-orange":"bg-kevin-graphite text-white border-kevin-steel hover:bg-kevin-neon hover:text-black"}
                    `,onClick:()=>v(t.key),"aria-pressed":g===t.key,"aria-label":`Filter by ${t.label.toLowerCase()}`,children:[e.jsx("span",{className:"mr-2","aria-hidden":"true",children:t.icon}),t.label]},t.key))}),oe.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:"text-kevin-mint text-sm font-pixel",children:"Categories:"}),oe.map(t=>e.jsx("button",{onClick:()=>{Q(l=>l.includes(t)?l.filter(d=>d!==t):[...l,t])},className:`pixel-btn px-3 py-1 text-xs ${D.includes(t)?"bg-kevin-magenta text-white":"bg-kevin-graphite text-kevin-mint hover:bg-kevin-magenta hover:text-white"}`,children:t},t))]}),(w||D.length>0||g!=="all")&&e.jsx("button",{onClick:()=>{S(""),Q([]),v("all"),I("newest")},className:"pixel-btn px-3 py-1 text-xs bg-red-600 text-white hover:bg-red-700",children:"Clear Filters"})]})}),e.jsxs("div",{className:"mt-4 text-sm text-kevin-mint",children:["Showing ",N.length," of ",A.length," items",w&&` matching "${w}"`,D.length>0&&` in categories: ${D.join(", ")}`]})]}),g==="video"&&e.jsxs("div",{className:"bg-kevin-charcoal border-2 border-kevin-orange p-6 text-center mb-8",children:[e.jsx("h3",{className:"font-pixel text-xl text-kevin-orange mb-3",children:"🎬 EXCLUSIVE KEVIN VIDEOS"}),e.jsx("p",{className:"text-kevin-mint mb-4",children:"These are authentic videos from Kevin Depot featuring our digital gentleman in action!"}),e.jsx("p",{className:"text-sm text-kevin-cyan",children:"Want to see your Kevin video here? Submit to Kevin Depot and become part of the legend!"})]}),K&&j.length===0&&e.jsx(Oe,{message:"Loading Kevin Depot community...",showProgress:!0,timeout:30,onTimeout:P}),T&&j.length===0&&e.jsx(Pe,{error:T,onRetry:P,className:"mb-8"}),T&&j.length>0&&e.jsxs("div",{className:"bg-yellow-900/30 border-2 border-yellow-500 p-4 text-center mb-8",children:[e.jsxs("div",{className:"text-yellow-200 font-pixel text-sm mb-2",children:["⚠️ Using cached/static content - ",T.message]}),e.jsx("button",{onClick:P,className:"pixel-btn px-3 py-1 text-xs text-black bg-yellow-500 border-yellow-500",children:"🔄 TRY AGAIN"})]}),!re&&e.jsxs("div",{className:"bg-yellow-900/30 border-2 border-yellow-500 p-4 text-center mb-8",children:[e.jsx("div",{className:"text-yellow-200 font-pixel text-lg mb-2",children:"🌐 OFFLINE MODE"}),e.jsx("div",{className:"text-yellow-100 text-sm",children:"You're currently offline. Showing cached community content."})]}),e.jsxs("div",{ref:_,className:y==="grid"?"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6":"space-y-4",role:"grid","aria-label":"Community gallery",onTouchStart:ve,onTouchMove:be,onTouchEnd:xe,style:{paddingTop:n?"20px":void 0,WebkitOverflowScrolling:"touch",overscrollBehavior:"contain"},children:[N.map((t,l)=>e.jsxs("div",{className:`gallery-item bg-black border-2 border-kevin-orange cursor-pointer transition-all duration-200 hover:border-kevin-neon hover:shadow-lg hover:shadow-kevin-orange/20 focus-visible ${y==="list"?"flex gap-4 p-4":"p-2"} ${n?"active:scale-95":""}`,onMouseEnter:()=>!n&&x(t),onMouseLeave:()=>!n&&x(null),onClick:()=>z(t),onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),z(t))},onTouchStart:()=>n&&ye(t),onTouchEnd:()=>{n&&setTimeout(()=>we(t),500)},tabIndex:0,role:"gridcell","aria-label":`${t.title} - ${t.type} from ${t.category}`,"aria-describedby":`meme-desc-${t.id}`,style:{minHeight:n?"44px":void 0,WebkitTapHighlightColor:"rgba(255, 107, 53, 0.3)"},children:[e.jsxs("div",{className:`relative ${y==="list"?"w-32 h-24 flex-shrink-0":""}`,children:[e.jsx(_e,{src:t.imageUrl,alt:t.title,className:y==="list"?"w-full h-full object-cover":""}),t.type==="video"&&e.jsx("div",{className:"absolute top-2 left-2",children:e.jsxs("div",{className:"bg-black bg-opacity-70 border border-kevin-orange px-2 py-1 text-xs font-pixel flex items-center gap-1",children:[e.jsx("span",{className:"text-kevin-orange",children:"▶"}),e.jsx("span",{className:"hidden sm:inline",children:"VIDEO"})]})}),t.type==="gif"&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("div",{className:"bg-kevin-magenta border border-white px-2 py-1 text-xs font-pixel",children:"GIF"})}),(!n&&(p==null?void 0:p.id)===t.id||n&&(O==null?void 0:O.id)===t.id)&&e.jsx("div",{className:"absolute inset-0 bg-kevin-orange bg-opacity-30 flex items-center justify-center backdrop-blur-sm transition-all duration-200",children:e.jsxs("div",{className:"text-white font-pixel text-sm bg-black bg-opacity-70 px-3 py-1 border border-kevin-orange animate-pulse",children:[t.type==="video"?"▶ PLAY":t.type==="gif"?"🎞️ VIEW":"🖼️ VIEW",n&&e.jsx("div",{className:"text-xs mt-1 opacity-75",children:"Double tap to favorite"})]})})]}),e.jsxs("div",{className:`${y==="list"?"flex-1 min-w-0":"p-2"}`,children:[e.jsxs("div",{className:"font-pixel text-xs text-kevin-orange truncate flex items-center gap-1 mb-1",children:[t.category==="Live Update"&&e.jsx("span",{className:"text-kevin-neon",children:"🔴"}),e.jsx("span",{className:"font-bold",children:t.title}),e.jsx("span",{className:"text-kevin-steel",children:"•"}),e.jsx("span",{className:"text-kevin-mint",children:t.type.toUpperCase()})]}),e.jsx("div",{className:`text-xs text-white ${y==="list"?"mb-2":"truncate"}`,children:y==="list"?t.description:t.description.length>40?t.description.substring(0,40)+"...":t.description}),e.jsxs("div",{className:"text-xs text-kevin-mint flex items-center justify-between",children:[e.jsx("span",{children:t.category}),t.category==="Live Update"&&e.jsx("span",{className:"text-xs text-kevin-neon animate-pulse",children:"● LIVE"})]})]})]},t.id)),b&&e.jsx("div",{className:`gallery-item bg-kevin-graphite border-2 border-kevin-steel p-4 flex items-center justify-center ${y==="list"?"w-full":""}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-kevin-orange border-t-transparent rounded-full mx-auto mb-2"}),e.jsx("div",{className:"text-kevin-mint font-pixel text-sm",children:"Loading more KEVIN content..."})]})}),!f&&!i&&N.length>=a&&e.jsx("div",{className:`gallery-item bg-kevin-graphite border-2 border-kevin-neon p-4 cursor-pointer flex items-center justify-center focus-visible ${y==="list"?"w-full":""}`,children:e.jsxs("a",{href:"https://memedepot.com/d/kevin-depot",target:"_blank",rel:"noopener noreferrer",className:"text-center","aria-label":"View more KEVIN content on Kevin Depot (opens in new tab)",children:[e.jsx("div",{className:"font-pixel text-kevin-neon text-xl",children:"+50"}),e.jsx("div",{className:"font-pixel text-xs text-white",children:"MORE"}),e.jsx("div",{className:"font-pixel text-xs text-kevin-neon mt-2",children:"VISIT DEPOT"})]})}),N.length>=A.length&&A.length>0&&e.jsxs("div",{className:`gallery-item bg-kevin-charcoal border-2 border-kevin-steel p-4 text-center ${y==="list"?"w-full":""}`,children:[e.jsx("div",{className:"text-kevin-mint font-pixel text-sm",children:"🎯 You've reached the end of KEVIN content"}),e.jsx("div",{className:"text-kevin-steel text-xs mt-1",children:"Check back later for fresh uploads!"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-6 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"terminal-window p-4 text-center",children:[e.jsx("div",{className:"meme-counter text-2xl",children:K?"...":(k==null?void 0:k.totalMemes)||j.length}),e.jsx("div",{className:"text-kevin-orange font-pixel text-xs",children:"Total Memes"})]}),e.jsxs("div",{className:"terminal-window p-4 text-center",children:[e.jsx("div",{className:"meme-counter text-2xl",children:K?"...":(k==null?void 0:k.totalVideos)||j.filter(t=>t.type==="video").length}),e.jsx("div",{className:"text-kevin-neon font-pixel text-xs",children:"Videos"})]}),e.jsxs("div",{className:"terminal-window p-4 text-center",children:[e.jsx("div",{className:"meme-counter text-2xl",children:K?"...":(k==null?void 0:k.totalGifs)||j.filter(t=>t.type==="gif").length}),e.jsx("div",{className:"text-kevin-magenta font-pixel text-xs",children:"GIFs"})]}),e.jsxs("div",{className:"terminal-window p-4 text-center",children:[e.jsx("div",{className:"meme-counter text-2xl",children:K?"...":(()=>{const t=(k==null?void 0:k.totalViews)||1100;return t>=1e3?`${(t/1e3).toFixed(1)}K`:t.toString()})()}),e.jsx("div",{className:"text-kevin-cyan font-pixel text-xs",children:"Views"})]}),e.jsxs("div",{className:"terminal-window p-4 text-center",children:[e.jsx("div",{className:"meme-counter text-2xl",children:"∞"}),e.jsx("div",{className:"text-kevin-green font-pixel text-xs",children:"Creativity"})]})]}),(k||R)&&e.jsx("div",{className:"text-center mt-8",children:e.jsxs("div",{className:"terminal-window p-4 max-w-md mx-auto",children:[e.jsxs("div",{className:"text-xs text-kevin-mint space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${R==="live"?"bg-green-400 animate-pulse":R==="cached"?"bg-yellow-400":"bg-gray-400"}`}),e.jsx("span",{children:R==="live"?"🔴 LIVE DATA":R==="cached"?"🟡 CACHED DATA":"⚪ STATIC DATA"})]}),se&&e.jsxs("div",{children:["Last updated: ",se.toLocaleString()]}),R==="live"&&e.jsx("div",{className:"text-kevin-cyan",children:"Updates every 5 minutes"}),R==="cached"&&e.jsx("div",{className:"text-yellow-400",children:"Using cached data - connection issues detected"}),T&&e.jsxs("div",{className:"text-red-400 text-xs mt-2",children:["Error: ",T.message," (Code: ",T.code,")"]}),R==="fallback"&&e.jsx("div",{className:"text-gray-400",children:"Using static fallback data"})]}),e.jsxs("div",{className:"flex gap-2 justify-center mt-3",children:[e.jsxs("button",{onClick:P,className:"pixel-btn px-3 py-1 text-xs text-black bg-kevin-orange border-kevin-orange",disabled:K,children:["🔄"," REFRESH"]}),e.jsx("button",{onClick:ue,className:"pixel-btn px-3 py-1 text-xs text-black bg-kevin-magenta border-kevin-magenta",children:"🗑️ CLEAR CACHE"})]})]})}),e.jsx("div",{className:"text-center",children:e.jsx("a",{href:"https://memedepot.com/d/kevin-depot",target:"_blank",rel:"noopener noreferrer",className:"pixel-btn px-8 py-4 text-black font-bold bg-kevin-neon border-kevin-neon",children:"🎨 VISIT KEVIN DEPOT"})}),h&&(h.type==="image"||h.type==="gif")&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-kevin-charcoal border-4 border-kevin-orange max-w-4xl w-full max-h-screen overflow-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b-2 border-kevin-orange",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-pixel text-xl text-kevin-orange",children:h.title}),e.jsx("p",{className:"text-sm text-kevin-mint",children:h.description})]}),e.jsx("button",{onClick:de,className:"pixel-btn px-4 py-2 text-black bg-kevin-orange border-kevin-orange hover:bg-white",children:"✕ CLOSE"})]}),e.jsx("div",{className:"p-4 flex justify-center",children:e.jsx(he,{src:h.imageUrl,alt:h.title,className:"max-w-full max-h-96 object-contain pixel-perfect border-2 border-kevin-green",showLoadingIndicator:!0,containerClassName:"min-h-48 flex items-center justify-center"})}),e.jsx("div",{className:"p-4 bg-black border-t-2 border-kevin-green",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-pixel text-kevin-orange text-sm",children:["Type: ",h.type.toUpperCase()," • Category: ",h.category]}),e.jsx("div",{className:"font-pixel text-kevin-mint text-xs",children:h.type==="gif"?"Animated GIF from Kevin Depot":"Static image from Kevin Depot"})]}),e.jsx("a",{href:"https://memedepot.com/d/kevin-depot",target:"_blank",rel:"noopener noreferrer",className:"pixel-btn px-4 py-2 text-black bg-kevin-neon border-kevin-neon text-xs",children:"VIEW MORE ART"})]})})]})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-kevin-charcoal border-4 border-kevin-orange max-w-4xl w-full max-h-screen overflow-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b-2 border-kevin-orange",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-pixel text-xl text-kevin-orange",children:o.title}),e.jsx("p",{className:"text-sm text-kevin-mint",children:o.description})]}),e.jsx("button",{onClick:le,className:"pixel-btn px-4 py-2 text-black bg-kevin-orange border-kevin-orange hover:bg-white",children:"✕ CLOSE"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("iframe",{src:`https://iframe.cloudflarestream.com/${o.videoUrl}?autoplay=true&loop=true&controls=true&defaultTextTrack=&poster=${encodeURIComponent(o.imageUrl||"")}`,className:"w-full h-96 bg-black border-2 border-kevin-green",style:{aspectRatio:"16/9"},frameBorder:"0",allow:"accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture; fullscreen",allowFullScreen:!0,title:o.title}),e.jsx("div",{className:"mt-4 p-4 bg-black border-2 border-kevin-green",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-pixel text-kevin-orange text-sm",children:["Category: ",o.category]}),e.jsx("div",{className:"font-pixel text-kevin-mint text-xs",children:"Click and drag to scrub • Space to play/pause"})]}),e.jsx("a",{href:"https://memedepot.com/d/kevin-depot",target:"_blank",rel:"noopener noreferrer",className:"pixel-btn px-4 py-2 text-black bg-kevin-neon border-kevin-neon text-xs",children:"VIEW MORE VIDEOS"})]})})]})]})})]})}export{He as C};
